<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
<title>simplestpossible: postMessage() other.html</title>
<link rel="stylesheet" href="../../css/main.css">
</head>

<body>
<div id="container">

  <h1><a href="../../index.html" title="simpl.info home page">simpl.info</a> postMessage() other.html</h1>
  <p id="data"></p>

  <script>
  window.addEventListener("message", function receiveMessage(event) {  
  console.log(event);
    log("Got a message from event.origin " + event.origin + ": ");
    log("<em>" + event.data + "</em>");
    // posting back to message source, i.e. index.html
    // second parameter is eventOrigin: must match event.origin
    event.source.postMessage("hi! this is a message from other.html", "*");
  });  
  
  function log(message){
    document.getElementById("data").innerHTML += message + "<br /><br />";
  }
  </script>
  
<a href="https://github.com/samdutton/simpl/blob/master/postmessage/popup/other.html" title="View source for this page" id="viewSource">View source</a>
</div> 
<script src="../../js/lib/ga.js"></script>
</body>
</html>